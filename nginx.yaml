apiVersion: v1
kind: Secret
metadata:
  name: nginxsecret
  namespace: default
data:
  nginx.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURIekNDQWdlZ0F3SUJBZ0lKQUozczRrM1BkeHdWTUEwR0NTcUdTSWIzRFFFQkN3VUFNQ1l4RVRBUEJnTlYKQkFNTUNHMTVMVzVuYVc1NE1SRXdEd1lEVlFRS0RBaHRlUzF1WjJsdWVEQWVGdzB4T1RBeE1UZ3hNRFE0TXpGYQpGdzB5TURBeE1U
Z3hNRFE0TXpGYU1DWXhFVEFQQmdOVkJBTU1DRzE1TFc1bmFXNTRNUkV3RHdZRFZRUUtEQWh0CmVTMXVaMmx1ZURDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBS3hTM1ljc01KdDkKQmR5RTRVb3ZnMGI1VGU0L3F3YWFadTJPbks4TTVycUlHOHptYjd6amFqVjhwSU02OG1NVndLL3ZTV
FpMbDJBbApKd3JzVEZwK2VpQmFlQjFReUUvbnZDS3M3OUlRRzlHZ3FWbUszSnlCSHUrQzQ5VFVPOTJYME5zWUZ6ZnJEeFgzCnpUbkNjUHUvbTNYRVFMejBpaDFJWHRrZndZcEVRWEZzcmxzUkZSYVRmc20vcURhYVNsejkyQ3JqV1MwaHBkdUMKVURKMXRPU255Z3hrVHEvcGFXSWJUeGdKMVZjcnFYc21PVWtYMWFNOU
FVUDBDVFVMWWhhMk1FVVlLZXB1K3dQUQoxMkRsMVFoeFNBSHExU1UvUXF2VTYyTk1JOURUeVIwQ1hjYWJ0WUd5QjQrOFlLV3d5cEkybFNULzhadjROZjVBCmJ6bmJtMGJIOTljQ0F3RUFBYU5RTUU0d0hRWURWUjBPQkJZRUZFK0FUazM4TlRYRkV4d0ZsZGlUakZPRmJQUEUKTUI4R0ExVWRJd1FZTUJhQUZFK0FUazM
4TlRYRkV4d0ZsZGlUakZPRmJQUEVNQXdHQTFVZEV3UUZNQU1CQWY4dwpEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBS2M3THdRbjZXeHFKKzRoamdyMzR4YUJTVzBTY3NLRXgrb1ZIeGNNCmlQeGo1eCtmeTdQVFZqNGFmVkpYWVFOV1E0MUE3NEJycXpVL3hVUUoxSmZ5YjlNU3RnSytNeWFOYUxTeHZUVFkKU1JodGdI
bEtMUzdheHpKN09nNndiU2I3OHAxdFJUSkdKd3phdGx5cHk2Mk9xSGd3VHNSenVQdHZxT0xWcURGQwp0Vk1oNDRISk1yeGJVZjRVSnhLQ0hadFFEbUl4Y3YvejgvT2h2aXBaRnNKQkk3ZnM5bkxaWGdDZzZLMnBuWk5rCi9Nbml4M2kyK09IV2RjWlRRZjFjU1VSZnJUeVdISVdSM3hOMng5NXdLMXNhajN0bUdKeUlqK
202T3gxMFBMa24KZ05MVGoyVWdhNnlPK3Q4OXJMeTcyOWovdnFHaTREWTRtY1R1WGdYRllTdlNJdGc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  nginx.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRQ3NVdDJITERDYmZRWGMKaE9GS0w0TkcrVTN1UDZzR21tYnRqcHl2RE9hNmlCdk01bSs4NDJvMWZLU0RPdkpqRmNDdjcwazJTNWRnSlNjSwo3RXhhZm5vZ1du
Z2RVTWhQNTd3aXJPL1NFQnZSb0tsWml0eWNnUjd2Z3VQVTFEdmRsOURiR0JjMzZ3OFY5ODA1CnduRDd2NXQxeEVDODlJb2RTRjdaSDhHS1JFRnhiSzViRVJVV2szN0p2NmcybWtwYy9kZ3E0MWt0SWFYYmdsQXkKZGJUa3A4b01aRTZ2NldsaUcwOFlDZFZYSzZsN0pqbEpGOVdqUFFGRDlBazFDMklXdGpCRkdDbnFid
nNEME5kZwo1ZFVJY1VnQjZ0VWxQMEtyMU90alRDUFEwOGtkQWwzR203V0JzZ2VQdkdDbHNNcVNOcFVrLy9HYitEWCtRRzg1CjI1dEd4L2ZYQWdNQkFBRUNnZ0VCQUlZLzlJZm5mR0xXYnVlU3VqVmllS0tsZlBvY3JlL3lBRGdZZjZhOHBWQXkKMDMyNUZOb1NUZDhub0w4QUFIQUROVitiU3UwNnpNN0JndjQyZzNHST
BUbzlZUkJ0cS9EY2Q2eUlFRG9XQktZMgp4VmlXSHpMcVFTQ1ZWMHVxb0kwTlJsQTZIM1NYOHVQSmJ5QU5oSm9NZDErektrQkxQd0o3TERGNVZQMlVHV3Z6CjJHQU9abVlEVUU1OURKZysrTHRLT3JMYS9QU0VJRGxWR0tnb1d5ZGttbWZiaDNYaUlZVjEvNVRINXVQUWVuaFUKc2lZS1VWaE0xbGdpZDE1d1A1RzFrYXd
OZ2JZbFNsU2hSbHdNTVBTVGtsWTgwd1gwT0FVM0NBak52NjFNN1FXKwpYeEpmcWV6QjdzclRuN3dMQklibWhSbFRMRUQ3TW94ZXo2Q25QSXp3UHhFQ2dZRUE0bGZzY1ZQWWt0N0pwTENDCmZkTmlGUDRCNDZFUzVUTEYxRzFtVnNnUFVQL1JDNWdqNmhvaE9nNGJSdWNYTmZ0NXhFSkEveGJVZ1FRSWFhdloKbDdTa3k3
OGk4NGlZM1Bmbm9kMmVobFVYZGtDaGI3dGt0V3VWVGdVTzROVlM2a1ZHa1ZzWXg5SVJxTE5kOUEvNgpZQzlHZTJxSmJxbFFrL2RsYXN6eHJWOFhmZzhDZ1lFQXd1Yis0Y2dsa0JQSnlqSjhrMWRySUdwUm9ON2VWcklsClhJZi8ya3pBVmM3eXpXV21xZjljaVhYR2tQeUJXQWh3bDdDWjNHQnNxTXhPOW84MzNoUUxXV
kJZNUZyVThsd2oKRTJHQVh5MkNhSHlxQzNhZmlEUm51SEhQWDFENnAyeXhVZmJYaHp1WDFEV3poaWNqMVZTZ3NFOUppSEtNdlhzSgp5YldKakpLRE1ia0NnWUFvYWphbnphYmdJck95bW1uU2Vjb0xvWWRJMDl3QjNOMENIejZreERnbjZHVzFRa2MzClo4OERCTDNPSFRsQnhGTnJ2Y0RKUzVSS0xTUXJhaW9DTXBreV
lFQ25aMzZVQmhmd0NSaGpPQkptWlFmdVlYR00KQzFldmhLdXhiYVhPZXV3c3pDMVNrS25paTVSOUhkVkJFMi9zWFl1SW5PYnNaTUpSSGFNUnArY1Q5UUtCZ1FDdApmTENraVdQbU83Y0RKSzErK2ZHQmlTSGY4SUk0NlpvWUkzYTYrbGE2Q3R4VnVJWUNEQ3h5cjBOeEMxS1c2ZXhQCkdnUGJCbm15UnlxQ2pqbE1sTXN
GVlYvSzVJOW9yRnNNaFYyZld3TVp2dDRlRmhrclJIcU8wNytqT0pIbE5mc2cKMm5nL0IreStHSThVZXdLS2dpb0d4b3pOeUNrL0FLWlZ4aUlKM3VDcEFRS0JnUURhSUllVGRidGtrOEdPMkNOdwp4YjBubTY2N1dnOEZqakdxZEljN0hIa2orWW5jckoxVW1vNGpJTElQektJR3puQ3RKaGE2TzRtcXU2dUJ4cFBQCk0w
bkZaMjZ4QVFjSlZuUDBYa1FueGt0WitLc2hnOEd2bWM0MW1hajFmNlRteGJVNGZSMjcrdVl1aVYzVmRGalcKQ0Y4ZGtpT2NoSEkyMGI2UVozclRVWm9ZNkE9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg==
---
apiVersion: v1
kind: Service
metadata:
  name: my-nginx
  labels:
    run: my-nginx
spec:
  type: LoadBalancer
  ports:
  - port: 8080
    targetPort: 80
    protocol: TCP
    name: http
  - port: 443
    protocol: TCP
    name: https
  selector:
    run: my-nginx
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-nginx
spec:
  selector:
    matchLabels:
      run: my-nginx
  replicas: 1
  template:
    metadata:
      labels:
        run: my-nginx
    spec:
      volumes:
      - name: secret-volume
        secret:
          secretName: nginxsecret
      containers:
      - name: nginxhttps
        image: bprashanth/nginxhttps:1.0
        ports:
        - containerPort: 443
        - containerPort: 80
        volumeMounts:
        - mountPath: /etc/nginx/ssl
          name: secret-volume
